# Data Directory Structure

## Overview

This directory contains all data files for the retargeting project.

## Directory Structure

### `reference/`

**Purpose**: Reference A-pose skeleton and related files

**Files**:

-   `smplh_target_reference.npz` - Reference A-pose joint positions (J_ABSOLUTE, SMPL_OFFSETS)
-   `smplh_target.glb` - Reference A-pose armature GLB (no animation)
-   `reference_apose_10frames.glb` - Reference A-pose with 10 frames (for testing)
-   `smplh_target_reference_arrays.py` - Python arrays extracted from reference NPZ
-   `smplh_target_reference_EXACT_VALUES.txt` - Human-readable reference values
-   `smplh_target_reference_visualization.txt` - NPZ file structure visualization

**Keep**: All files (reference data is essential)

### `test/`

**Purpose**: Small test NPZ files for quick testing

**Files**:

-   `*.npz` - Test animation files

**Keep**: All NPZ files

### `extracted/`

**Purpose**: Extracted NPZ files from AMASS dataset

**Structure**:

-   `ACCAD/` - ACCAD dataset animations
-   `EKUT/` - EKUT dataset animations
-   `[other datasets]/` - Other AMASS datasets

**Keep**: All NPZ files, remove GLB outputs

### `models/`

**Purpose**: Model files (SMPL, etc.)

**Files**:

-   `amass_joints_h36m_60.pkl` - AMASS joints model
-   `smplh_tpose.glb` - SMPL-H T-pose model (if needed)

**Keep**: All files

### `raw/`

**Purpose**: Raw compressed dataset files

**Files**:

-   `*.tar.bz2` - Compressed dataset archives

**Keep**: All files (source data)

### `archive/`

**Purpose**: Archived/converted data

**Files**:

-   `converted_train.tar.bz2` - Archived converted training data

**Keep**: All files

### `output/`

**Purpose**: Output directory for processed GLB files

**Usage**: Scripts will write output GLB files here

**Keep**: Directory (empty is fine)

### `npz_visualizations/`

**Purpose**: Visualization text files for NPZ contents

**Files**:

-   `*_visualization.txt` - Human-readable NPZ file contents

**Keep**: All files (useful for understanding data)

## File Naming Conventions

### NPZ Files

-   `*_poses.npz` - Animation data (poses, trans, etc.)
-   `smplh_target_reference.npz` - Reference A-pose data

### GLB Files

-   `smplh_target.glb` - Reference A-pose armature
-   `*_retargeted.glb` - Retargeted animation outputs (can be regenerated)
-   `*_poses.glb` - Direct conversion outputs (can be regenerated)

## Cleanup Policy

-   **Keep**: All NPZ files (source data)
-   **Keep**: Reference GLB files (`smplh_target.glb`, `reference_apose_10frames.glb`)
-   **Remove**: Test output GLB files (can be regenerated)
-   **Remove**: Retargeted GLB files in extracted/ (can be regenerated)

## Regenerating Output Files

All GLB output files can be regenerated by running:

```bash
/Applications/Blender.app/Contents/MacOS/Blender --background --python src/retarget.py -- data/test
```

Output files will be written to `data/output/` or next to source NPZ files (depending on script configuration).
